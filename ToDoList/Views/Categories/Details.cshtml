@{
  Layout = "_Layout";
}

@model ToDoList.Models.Category
@using ToDoList.Models

<div class="container mt-5 col-sm-6">
  <h2 class="mb-3">Category Details</h2>
  <hr />
  <h3 class="mb-3">@Html.DisplayNameFor(model => model.Name): <span class="text-success">@Html.DisplayFor(model => model.Name)</span></h3>

  @if (@Model.Items.Count == 0)
  {
    <div class="alert alert-warning" role="alert">
      No items have been added to this category yet!
    </div>
  } 
  else
  {
    <h3 class="mb-3">Items:</h3>
    <ul class="list-group mb-3">
      @foreach (Item item in Model.Items)
      {
        <li class="list-group-item">@Html.ActionLink($"{item.Description}", "Details", "Items", new { id = item.ItemId })</li>
      }
    </ul>
  }

  <p>@Html.ActionLink("Edit Category", "Edit", new { id = Model.CategoryId }, new { @class = "btn btn-primary" })</p>
  <p>@Html.ActionLink("Delete Category", "Delete", new { id = Model.CategoryId }, new { @class = "btn btn-danger" })</p>
  @* <p>@Html.ActionLink("Back to list", "Index", null, new { @class = "btn btn-secondary" })</p> *@
  <p><a href="@Url.Action("Index")" class="btn btn-secondary">Back to list</a></p>
</div>